(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{73242:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,94917,23)),Promise.resolve().then(r.t.bind(r,65455,23)),Promise.resolve().then(r.bind(r,29749)),Promise.resolve().then(r.bind(r,16871)),Promise.resolve().then(r.t.bind(r,30347,23))},29749:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(12115),l=r(16871);let o=()=>{let{detections:e}=(0,l.u)(),t=(0,n.useRef)(new Set),[r,o]=(0,n.useState)(!1),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!e||0===e.length){c();return}let n=e.filter(e=>"High"===e.threat_level);n.length>0?(n.forEach(e=>{t.current.has(e.id)||(t.current.add(e.id),s(e.class))}),r||a()):c()},[e]),(0,n.useEffect)(()=>{let e=()=>{i.current&&i.current.play().catch(e=>{console.error("Audio play failed. User interaction required:",e)}),document.removeEventListener("click",e)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let a=()=>{i.current||(i.current=new Audio("/alert.mp3"),i.current.loop=!0);let e=i.current.play();void 0!==e&&e.catch(e=>{console.error("Audio play failed due to autoplay restrictions:",e)}),o(!0)},c=()=>{i.current&&(i.current.pause(),i.current.currentTime=0,o(!1))},s=e=>{if(!window.speechSynthesis){console.error(" Speech synthesis not supported");return}let t=new SpeechSynthesisUtterance("Warning! A ".concat(e," has been detected."));t.lang="en-US",t.volume=1,t.rate=1,t.pitch=1,window.speechSynthesis.speak(t)};return null}},16871:(e,t,r)=>{"use strict";r.d(t,{DetectionProvider:()=>i,u:()=>a});var n=r(95155),l=r(12115);let o=(0,l.createContext)(),i=e=>{let{children:t}=e,[r,i]=(0,l.useState)([]),[a,c]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:8000/detections"),t=await e.json();if(t.detections){let e=t.detections.map(e=>({...e,time:new Date().toISOString()}));i(e),c(t=>[...t,...e])}}catch(e){console.error("Error fetching detections:",e)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,n.jsx)(o.Provider,{value:{detections:r,detectionHistory:a,getConfidenceColor:e=>e>=75?"bg-emerald-600 text-white":e>=50?"bg-yellow-500 text-black":"bg-red-600 text-white",calculateOverallThreat:e=>e.some(e=>"High"===e.threat_level)?"High":e.some(e=>"Medium"===e.threat_level)?"Medium":"Low",exportToCSV:()=>{if(!a.length)return;let e=["Date,Time,Class,Confidence,Threat Level"];a.forEach(t=>{let r=t.time?new Date(t.time):new Date;if(isNaN(r.getTime()))return;let n=r.toLocaleDateString(),l=r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=void 0!==t.confidence?t.confidence.toFixed(0)+"%":"Unknown",i=t.threat_level||"Low",a=t.class||"Unknown Object";e.push([n,l,a,o,i].join(","))});let t=new Blob([e.join("\n")],{type:"text/csv"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="detection_logs_".concat(new Date().toISOString().split("T")[0],".csv"),n.click(),URL.revokeObjectURL(r)}},children:t})},a=()=>(0,l.useContext)(o)},30347:()=>{},94917:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},65455:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[854,441,517,358],()=>t(73242)),_N_E=e.O()}]);